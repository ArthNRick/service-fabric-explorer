<div *ngIf="partition" >
  <div style="display: flex; flex-wrap: wrap;">
    <!-- <app-overview-container [healthState]="partition.healthState" class="detail-pane essen-pane" style="display: inline-block; margin-right: 15px;">
      <table>
        <tr>
          <td>Status</td>
          <td> : <app-status-resolver [status]="partition.raw.PartitionStatus"></app-status-resolver></td>
        </tr>
        <tr>
          <td>Partition Kind</td>
          <td> : {{partition.partitionInformation.raw.ServicePartitionKind}}</td>
        </tr>
    
        <ng-container *ngIf="partition.isStatefulService && partition.partitionInformation.isPartitionKindInt64Range">

          <tr>
            <td>High Key</td>
            <td> : {{partition.partitionInformation.raw.HighKey}}</td>
          </tr>

          <tr>
            <td>Low Key</td>
            <td> : {{partition.partitionInformation.raw.LowKey}}</td>
          </tr>
        </ng-container>

        <ng-container *ngIf="partition.isStatefulService && partition.partitionInformation.isPartitionKindNamed">
          <tr>
            <td>Name</td>
            <td> : {{partition.partitionInformation.raw.Name}}</td>
          </tr>
        </ng-container>

      </table>
    </app-overview-container> -->
  
    <div class="detail-pane essen-pane">
        <app-state-info [stateful]="!partition.isStatelessService" [data]="partition.raw"></app-state-info>
      </div>
  </div>

  <div class="tile-container">

    <app-essential-health-tile [healthState]="partition?.healthState" *ngIf="partition && partition.isInitialized" 
    class="long" [listItems]="essentialItems">
    <ng-template essentialTemplate id="status">
      <app-status-resolver [status]="partition.raw.PartitionStatus"></app-status-resolver>
    </ng-template>
  </app-essential-health-tile>
  </div>


  <div class="detail-pane essen-pane" data-cy="health">
    <app-collapse-container sectionName="Unhealthy Evaluations">
      <div collapse-header>
        <h4>Unhealthy Evaluations</h4>
      </div>
      <div collapse-body>
        <app-detail-list [list]="partition.health.unhealthyEvaluations" [listSettings]="unhealthyEvaluationsListSettings">
        </app-detail-list>
      </div>
    </app-collapse-container>
  </div>

  <div class="detail-pane essen-pane" data-cy="replicas">
    <app-collapse-container [sectionName]="partition.isStatelessService ? 'Instances' : 'Replicas'">
      <div collapse-header>
        <h4>{{partition.isStatelessService ? "Instances" : "Replicas"}}</h4>
      </div>
      <div collapse-body>
        <app-detail-list [list]="partition.replicas.collection" [listSettings]="listSettings"
          *ngIf="partition.replicas.isInitialized"></app-detail-list>
      </div>
    </app-collapse-container>
  </div>

  <div class="detail-pane" *ngIf="partition.isStatefulService">
    <app-collapse-container [(collapsed)]="hideReplicator" sectionName="Replicator Status">
      <div collapse-header>
        <h4>Replicator Status</h4>
      </div>
      <div collapse-body>
        <div *ngIf="!hideReplicator">
          <app-replica-status-container [replicas]="partition.replicas.collection"></app-replica-status-container>
        </div>
      </div>
    </app-collapse-container>
  </div>
</div>
